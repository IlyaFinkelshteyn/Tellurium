@using MaintainableSelenium.Web.Controllers
@using MaintainableSelenium.Web.Mvc
@model MaintainableSelenium.Toolbox.Screenshots.TestResultInfo
@{
    var rowClass = Model.TestPassed ? "panel-success" : "panel-danger";
    var detailsId = "RowDetails" + Model.Id;
    var rowId = "Row" + Model.Id;
    var widget = RemoteExpanderWidget.Create<HomeController>(c => c.GetTestResultDetails(Model.Id), detailsId, Url);
}
<div class="panel @rowClass test-row" id="@rowId">
    <div class="panel-heading ">
        <div class="row">
            <div class="col-md-10 test-row-expander" @widget.GetAttributeString()>
                <span class="glyphicon glyphicon-menu-right"></span>
                @Model.TestName (@Model.ScreenshotName)
            </div>
            <div class="col-md-2">
                @if (Model.TestPassed == false)
                {
                    @(Ajax.ChangeActionLink<HomeController>(c => c.MarkAsPattern(Model.Id), "Mark as pattern", "Do you really wan to change test case pattern screenshot?", rowId, new { @class = "btn btn-primary" }))
                }
            </div>
        </div>
    </div>

    <div id="@detailsId" class="panel-body collapse">

    </div>
</div>
